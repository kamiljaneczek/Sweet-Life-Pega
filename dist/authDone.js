"use strict";const authDone=()=>{const e=window.location.search,t=new URLSearchParams(e),o=t.get("code"),r=t.get("state"),a=t.get("error"),n=t.get("error_description");let c=console.log;try{window.opener.console.log&&(c=window.opener.console.log)}catch(e){}let s=!1;if(o||a){try{window.opener.authCodeCallback(o,r,a,n),s=!0}catch(e){}const e=(()=>{let e=null;try{r&&(e=window.atob(r.split(".")[0]))}catch(e){}return e||(e=window.location.origin),e})();if(!s)try{window.opener.postMessage({type:"PegaAuth",code:o,state:r,error:a,errorDesc:n},e),s=!0}catch(e){}s||window.addEventListener("message",(t=>{t.data&&t.data.type&&"PegaAuth"===t.data.type&&t.source.postMessage({type:"PegaAuth",code:o,state:r,error:a,errorDesc:n},e)}))}};authDone();